import{l as P}from"./301_1646049679343.8735b5d6.js";import{I as S}from"./51_1646049679343.81f24a89.js";import{P as b}from"./68_1646049679343.9a3d7183.js";import{L as p}from"./57_1646049679343.948e05ba.js";import{c as O}from"./211_1646049679343.3e0ed98b.js";import{d as x,w as f,g as I,z as T,c as t,m as z}from"./99_1646049679343.0466afb1.js";import{p as B}from"./208_1646049679343.1651ae3e.js";import{a as c,n as u,d as N,u as g}from"./209_1646049679343.78ce7a55.js";import{i as L}from"./214_1646049679343.0c15135e.js";const[M,n]=O("toast"),j=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],U={icon:String,show:Boolean,type:c("text"),overlay:Boolean,message:u,iconSize:u,duration:N(2e3),position:c("middle"),teleport:[String,Object],className:g,iconPrefix:String,transition:c("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:g,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var K=x({name:M,props:U,emits:["update:show"],setup(e,{emit:k}){let r,i=!1;const s=()=>{const o=e.show&&e.forbidClick;i!==o&&(i=o,P(i))},l=o=>k("update:show",o),y=()=>{e.closeOnClick&&l(!1)},m=()=>clearTimeout(r),h=()=>{const{icon:o,type:a,iconSize:d,iconPrefix:w,loadingType:v}=e;if(o||a==="success"||a==="fail")return t(S,{name:o||a,size:d,class:n("icon"),classPrefix:w},null);if(a==="loading")return t(p,{class:n("loading"),size:d,type:v},null)},C=()=>{const{type:o,message:a}=e;if(L(a)&&a!=="")return o==="html"?t("div",{class:n("text"),innerHTML:String(a)},null):t("div",{class:n("text")},[a])};return f(()=>[e.show,e.forbidClick],s),f(()=>[e.show,e.type,e.message,e.duration],()=>{m(),e.show&&e.duration>0&&(r=setTimeout(()=>{l(!1)},e.duration))}),I(s),T(s),()=>t(b,z({class:[n([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:y,onClosed:m,"onUpdate:show":l},B(e,j)),{default:()=>[h(),C()]})}});export{K as s};
