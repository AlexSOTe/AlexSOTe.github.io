import{s as ae,a as ie}from"./274_1646215906088.be0271ed.js";import{c as ce,u as se,o as de,b as ue,e as F}from"./215_1646215906087.0fcd36a3.js";import{u as fe}from"./246_1646215906088.30048d4d.js";import{a as ve}from"./217_1646215906087.fbaa94db.js";import{u as me}from"./224_1646215906087.5094831c.js";import{u as he}from"./216_1646215906087.4df3fbfe.js";import{o as be}from"./267_1646215906088.32611000.js";import{S as ge}from"./84_1646215906087.33a9f9de.js";import{s as ye}from"./275_1646215906088.c09f4a5d.js";import{s as ke}from"./276_1646215906088.6967399a.js";import{B as Te}from"./211_1646215906087.4aaf427a.js";import{w as Ie,i as Ce,s as Se,b as M}from"./208_1646215906087.4b128a30.js";import{c as xe}from"./209_1646215906087.b81af7f8.js";import{a as we,b as I,t as V,n as X}from"./207_1646215906087.38cad0e7.js";import{d as Re,a as m,w as C,n as S,v as Be,c as u,m as _e}from"./99_1646215906087.c8f77054.js";import{a as P,r as Pe}from"./222_1646215906087.0db310a0.js";import{u as $e,a as p}from"./210_1646215906087.5695ccd5.js";import{p as Ae}from"./206_1646215906087.54ee61fa.js";import{i as K}from"./212_1646215906087.192212ed.js";import{c as Ne}from"./213_1646215906087.aaeb9eb2.js";const[U,x]=xe("tabs"),Oe={type:we("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:I(0),duration:I(.3),animated:Boolean,ellipsis:V,swipeable:Boolean,scrollspy:Boolean,offsetTop:I(0),background:String,lazyRender:V,lineWidth:X,lineHeight:X,beforeChange:Function,swipeThreshold:I(5),titleActiveColor:String,titleInactiveColor:String},Ee=Symbol(U);var tt=Re({name:U,props:Oe,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(n,{emit:s,slots:c}){let $,w,A;const v=P(),N=P(),R=P(),O=fe(),h=ce(v),[E,Y]=me(),{children:l,linkChildren:Z}=se(Ee),r=Pe({inited:!1,position:"",lineStyle:{},currentIndex:-1}),B=m(()=>l.length>n.swipeThreshold||!n.ellipsis||n.shrink),j=m(()=>({borderColor:n.color,background:n.background})),b=(e,t)=>{var o;return(o=e.name)!=null?o:t},L=m(()=>{const e=l[r.currentIndex];if(e)return b(e,r.currentIndex)}),_=m(()=>$e(n.offsetTop)),W=m(()=>n.sticky?_.value+$:0),g=e=>{const t=N.value,o=E.value;if(!B.value||!t||!o||!o[r.currentIndex])return;const a=o[r.currentIndex].$el,i=a.offsetLeft-(t.offsetWidth-a.offsetWidth)/2;ae(t,i,e?0:+n.duration)},d=()=>{const e=r.inited;S(()=>{const t=E.value;if(!t||!t[r.currentIndex]||n.type!=="line"||Ce(v.value))return;const o=t[r.currentIndex].$el,{lineWidth:a,lineHeight:i}=n,f=o.offsetLeft+o.offsetWidth/2,T={width:p(a),backgroundColor:n.color,transform:`translateX(${f}px) translateX(-50%)`};if(e&&(T.transitionDuration=`${n.duration}s`),K(i)){const D=p(i);T.height=D,T.borderRadius=D}r.lineStyle=T})},q=e=>{const t=e<r.currentIndex?-1:1;for(;e>=0&&e<l.length;){if(!l[e].disabled)return e;e+=t}},y=e=>{const t=q(e);if(!K(t))return;const o=l[t],a=b(o,t),i=r.currentIndex!==null;r.currentIndex=t,a!==n.active&&(s("update:active",a),i&&s("change",a,o.title))},k=e=>{const t=l.find((a,i)=>b(a,i)===e),o=t?l.indexOf(t):0;y(o)},z=(e=!1)=>{if(n.scrollspy){const t=l[r.currentIndex].$el;if(t&&h.value){const o=M(t,h.value)-W.value;w=!0,ie(h.value,o,e?0:+n.duration,()=>{w=!1})}}},G=(e,t,o)=>{const{title:a,disabled:i}=l[t],f=b(l[t],t);i?s("disabled",f,a):(Ne(n.beforeChange,{args:[f],done:()=>{y(t),z()}}),s("click",f,a),ve(e)),s("click-tab",{name:f,title:a,event:o,disabled:i})},J=e=>{A=e.isFixed,s("scroll",e)},Q=e=>{S(()=>{k(e),z(!0)})},ee=()=>{for(let e=0;e<l.length;e++){const{top:t}=F(l[e].$el);if(t>W.value)return e===0?0:e-1}return l.length-1},te=()=>{if(n.scrollspy&&!w){const e=ee();y(e)}},ne=()=>l.map((e,t)=>u(ye,_e({id:`${O}-${t}`,ref:Y(t),type:n.type,color:n.color,style:e.titleStyle,class:e.titleClass,shrink:n.shrink,isActive:t===r.currentIndex,controls:e.id,scrollable:B.value,activeColor:n.titleActiveColor,inactiveColor:n.titleInactiveColor,onClick:o=>G(e,t,o)},Ae(e,["dot","badge","title","disabled","showZeroBadge"])),{title:e.$slots.title})),oe=()=>{if(n.type==="line"&&l.length)return u("div",{class:x("line"),style:r.lineStyle},null)},H=()=>{var e,t;const{type:o,border:a}=n;return u("div",{ref:R,class:[x("wrap"),{[Te]:o==="line"&&a}]},[u("div",{ref:N,role:"tablist",class:x("nav",[o,{shrink:n.shrink,complete:B.value}]),style:j.value,"aria-orientation":"horizontal"},[(e=c["nav-left"])==null?void 0:e.call(c),ne(),oe(),(t=c["nav-right"])==null?void 0:t.call(c)])])};C([()=>n.color,Ie],d),C(()=>n.active,e=>{e!==L.value&&k(e)}),C(()=>l.length,()=>{r.inited&&(k(n.active),d(),S(()=>{g(!0)}))}),C(()=>r.currentIndex,()=>{g(),d(),A&&!n.scrollspy&&Se(Math.ceil(M(v.value)-_.value))});const re=()=>{k(n.active),S(()=>{r.inited=!0,R.value&&($=F(R.value).height),g(!0)})},le=(e,t)=>s("rendered",e,t);return he({resize:d,scrollTo:Q}),Be(d),be(d),de(re),ue("scroll",te,{target:h}),Z({id:O,props:n,setLine:d,onRendered:le,currentName:L,scrollIntoView:g}),()=>{var e;return u("div",{ref:v,class:x([n.type])},[n.sticky?u(ge,{container:v.value,offsetTop:_.value,onScroll:J},{default:()=>{var t;return[H(),(t=c["nav-bottom"])==null?void 0:t.call(c)]}}):[H(),(e=c["nav-bottom"])==null?void 0:e.call(c)],u(ke,{count:l.length,inited:r.inited,animated:n.animated,duration:n.duration,swipeable:n.swipeable,lazyRender:n.lazyRender,currentIndex:r.currentIndex,onChange:y},{default:()=>{var t;return[(t=c.default)==null?void 0:t.call(c)]}})])}}});export{Ee as T,tt as s};
