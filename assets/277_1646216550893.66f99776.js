import{l as P}from"./302_1646216550893.83c294f9.js";import{I as S}from"./51_1646216550893.73fb23c9.js";import{P as b}from"./68_1646216550893.ba8ad5fb.js";import{L as p}from"./57_1646216550893.7792cbba.js";import{c as O}from"./209_1646216550893.0ab1a9b2.js";import{d as x,w as f,e as I,A as T,c as t,m as B}from"./99_1646216550893.8a39810b.js";import{p as N}from"./206_1646216550893.699c29eb.js";import{a as c,n as u,d as z,u as g}from"./207_1646216550893.0f52dc9d.js";import{i as L}from"./212_1646216550893.8e2e10ec.js";const[M,n]=O("toast"),j=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],U={icon:String,show:Boolean,type:c("text"),overlay:Boolean,message:u,iconSize:u,duration:z(2e3),position:c("middle"),teleport:[String,Object],className:g,iconPrefix:String,transition:c("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:g,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var K=x({name:M,props:U,emits:["update:show"],setup(e,{emit:k}){let r,i=!1;const s=()=>{const o=e.show&&e.forbidClick;i!==o&&(i=o,P(i))},l=o=>k("update:show",o),y=()=>{e.closeOnClick&&l(!1)},m=()=>clearTimeout(r),h=()=>{const{icon:o,type:a,iconSize:d,iconPrefix:w,loadingType:v}=e;if(o||a==="success"||a==="fail")return t(S,{name:o||a,size:d,class:n("icon"),classPrefix:w},null);if(a==="loading")return t(p,{class:n("loading"),size:d,type:v},null)},C=()=>{const{type:o,message:a}=e;if(L(a)&&a!=="")return o==="html"?t("div",{class:n("text"),innerHTML:String(a)},null):t("div",{class:n("text")},[a])};return f(()=>[e.show,e.forbidClick],s),f(()=>[e.show,e.type,e.message,e.duration],()=>{m(),e.show&&e.duration>0&&(r=setTimeout(()=>{l(!1)},e.duration))}),I(s),T(s),()=>t(b,B({class:[n([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:y,onClosed:m,"onUpdate:show":l},N(e,j)),{default:()=>[h(),C()]})}});export{K as s};
