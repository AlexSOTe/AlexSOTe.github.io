import{m as y,u as C}from"./243_1646100666276.a4741d72.js";import{s as p}from"./278_1646100666276.cb4232fd.js";import{e as a,i as b}from"./205_1646100666276.f5fe59df.js";import{w as M}from"./213_1646100666276.57f724f6.js";import{b as x}from"./211_1646100666276.149d274e.js";import{a as I}from"./225_1646100666276.c7ac1d51.js";import{w as P,z as k,c as D,m as S}from"./99_1646100666276.bd8cb57b.js";const d={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let o=[],c=!1,i=a({},d);const l=new Map;function m(e){return x(e)?e:{message:e}}function T(){const{instance:e,unmount:t}=y({setup(){const n=I(""),{open:g,state:u,close:v,toggle:O}=C(),h=()=>{c&&(o=o.filter(r=>r!==e),t())},w=()=>D(p,S(u,{onClosed:h,"onUpdate:show":O}),null);return P(n,r=>{u.message=r}),k().render=w,{open:g,clear:v,message:n}}});return e}function z(){if(!o.length||c){const e=T();o.push(e)}return o[o.length-1]}function s(e={}){if(!b)return{};const t=z(),n=m(e);return t.open(a({},i,l.get(n.type||i.type),n)),t}const f=e=>t=>s(a({type:e},m(t)));s.loading=f("loading");s.success=f("success");s.fail=f("fail");s.clear=e=>{var t;o.length&&(e?(o.forEach(n=>{n.clear()}),o=[]):c?(t=o.shift())==null||t.clear():o[0].clear())};function N(e,t){typeof e=="string"?l.set(e,t):a(i,e)}s.setDefaultOptions=N;s.resetDefaultOptions=e=>{typeof e=="string"?l.delete(e):(i=a({},d),l.clear())};s.allowMultiple=(e=!0)=>{c=e};s.install=e=>{e.use(M(p)),e.config.globalProperties.$toast=s};export{s as T};
